# FlowBreath API 문서

## 호흡 운동 API

### 페이지
```
GET /breathing
```
호흡 운동 메인 페이지를 반환합니다.

### 세션 관리

#### 세션 시작
```
POST /api/breathing/sessions
```
새로운 호흡 운동 세션을 시작합니다.

**요청 본문:**
```json
{
    "pattern": "4-7-8",
    "duration": 300,
    "sound": true,
    "vibration": true
}
```

**응답:**
```json
{
    "success": true,
    "data": {
        "session_id": "123e4567-e89b-12d3-a456-426614174000",
        "pattern": "4-7-8",
        "duration": 300,
        "started_at": "2024-03-20T10:00:00Z"
    }
}
```

#### 세션 상태 조회
```
GET /api/breathing/sessions/{session_id}
```
특정 세션의 현재 상태를 조회합니다.

**응답:**
```json
{
    "success": true,
    "data": {
        "session_id": "123e4567-e89b-12d3-a456-426614174000",
        "status": "in_progress",
        "current_phase": "inhale",
        "time_remaining": 240,
        "started_at": "2024-03-20T10:00:00Z"
    }
}
```

#### 세션 종료
```
POST /api/breathing/sessions/{session_id}/end
```
진행 중인 세션을 종료합니다.

**응답:**
```json
{
    "success": true,
    "data": {
        "session_id": "123e4567-e89b-12d3-a456-426614174000",
        "status": "completed",
        "duration": 240,
        "started_at": "2024-03-20T10:00:00Z",
        "ended_at": "2024-03-20T10:04:00Z"
    }
}
```

### 기록 및 패턴

#### 호흡 기록 조회
```
GET /api/breathing/history
```
사용자의 호흡 운동 기록을 조회합니다.

**쿼리 파라미터:**
- `page`: 페이지 번호 (기본값: 1)
- `limit`: 페이지당 항목 수 (기본값: 10)
- `start_date`: 시작 날짜 (YYYY-MM-DD)
- `end_date`: 종료 날짜 (YYYY-MM-DD)

**응답:**
```json
{
    "success": true,
    "data": {
        "sessions": [
            {
                "session_id": "123e4567-e89b-12d3-a456-426614174000",
                "pattern": "4-7-8",
                "duration": 300,
                "completed": true,
                "started_at": "2024-03-20T10:00:00Z",
                "ended_at": "2024-03-20T10:05:00Z"
            }
        ],
        "pagination": {
            "total": 50,
            "per_page": 10,
            "current_page": 1,
            "last_page": 5
        }
    }
}
```

#### 호흡 패턴 목록 조회
```
GET /api/breathing/patterns
```
사용 가능한 호흡 패턴 목록을 조회합니다.

**응답:**
```json
{
    "success": true,
    "data": {
        "patterns": [
            {
                "id": "4-7-8",
                "name": "4-7-8 호흡법",
                "description": "4초 들숨, 7초 참기, 8초 날숨",
                "phases": [
                    {"type": "inhale", "duration": 4},
                    {"type": "hold", "duration": 7},
                    {"type": "exhale", "duration": 8}
                ]
            },
            {
                "id": "box",
                "name": "박스 호흡법",
                "description": "4초 들숨, 4초 참기, 4초 날숨, 4초 참기",
                "phases": [
                    {"type": "inhale", "duration": 4},
                    {"type": "hold", "duration": 4},
                    {"type": "exhale", "duration": 4},
                    {"type": "hold", "duration": 4}
                ]
            }
        ]
    }
}
```

#### 세션 가이드 조회
```
GET /api/breathing/sessions/{session_id}/guide
```

현재 세션의 호흡 가이드를 조회합니다.

##### 응답 예시:
```json
{
    "success": true,
    "data": {
        "session_id": "123e4567-e89b-12d3-a456-426614174000",
        "current_phase": {
            "type": "inhale",
            "duration": 4,
            "time_remaining": 2
        },
        "next_phase": {
            "type": "hold",
            "duration": 7
        },
        "progress": 0.25
    }
}
``` 